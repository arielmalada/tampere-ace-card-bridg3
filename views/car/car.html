<div id="container"></div>
<a-scene
  landing-page
  xrextras-gesture-detector
  xrextras-loading
  xrextras-runtime-error
  gltf-model="dracoDecoderPath: https://cdn.8thwall.com/web/aframe/draco-decoder/"
  renderer="colorManagement: true"
  xrweb="allowedDevices: any;
    defaultEnvironmentFogIntensity: 0.5; 
    defaultEnvironmentFloorTexture: #groundTex; 
    defaultEnvironmentFloorColor: #FFF;
    defaultEnvironmentSkyBottomColor: #B4C4CC; 
    defaultEnvironmentSkyTopColor: #5ac8fa;
    defaultEnvironmentSkyGradientStrength: 0.5;
    "
>
  <a-assets>
    <a-asset-item
      id="carModel"
      src="../../assets/models/car-disassambled.glb"
    ></a-asset-item>
    <img id="groundTex" src="../../assets/textures/concrete.jpg" />
    <a-mixin
      id="hotspot-text"
      text="font: exo2bold; width: 5"
      geometry="primitive: plane; width: 1.6; height: 0.4"
      material="color: black;"
      position="0 0.5 0"
    ></a-mixin>
    <a-mixin
      id="hotspot-target"
      geometry="primitive: octahedron; radius: 0.2;"
      material="flatShading: true; color: rgb(255, 0, 161)"
    ></a-mixin>
  </a-assets>
  <a-camera
    id="camera"
    position="0 1.75 4"
    raycaster="objects: .cantap"
    cursor="fuse: false; rayOrigin: mouse;"
  >
  </a-camera>

  <a-entity
    xr-light
    light="type: directional;
      castShadow: true;
      shadowMapHeight:2048;
      shadowMapWidth:2048;
      shadowCameraTop: 20;
      shadowCameraBottom: -20;
      shadowCameraLeft: -20;
      shadowCameraRight: 20;
      target: #car;
      shadowRadius: 3"
    xrextras-attach="target: car; offset: 0 15 0;"
    shadow
  >
  </a-entity>

  <a-light xr-light="max: 0.5" type="ambient"> </a-light>
  <!-- Buttons -->
  <a-entity
    tap-assemble
    target="Back-Driver"
    id="back-driver"
    mixin="hotspot-target"
    position="1.9 1.2 0.7"
    rotation="0 0 0"
    scale="0.5 0.5 0.5"
    class="cantap"
  ></a-entity>
  <a-entity
    tap-assemble
    target="Back-Pass"
    id="back-pass"
    mixin="hotspot-target"
    position="1.12 1.2 0.43"
    rotation="0 0 0"
    scale="0.5 0.5 0.5"
    class="cantap"
  ></a-entity>
  <a-entity
    tap-assemble
    target="Front-Driver"
    id="front-driver"
    mixin="hotspot-target"
    position="1.74 1.2 1.27"
    rotation="0 0 0"
    scale="0.5 0.5 0.5"
    class="cantap"
  ></a-entity>
  <a-entity
    tap-assemble
    target="Front-Pass"
    id="front-pass"
    mixin="hotspot-target"
    position="0.77 1.2 1.27"
    rotation="0 0 0"
    scale="0.5 0.5 0.5"
    class="cantap"
  ></a-entity>
  <a-entity
    tap-assemble
    target="Back-Window"
    id="back-window"
    mixin="hotspot-target"
    position="1.7 1.2 -0.41"
    rotation="0 0 0"
    scale="0.5 0.5 0.5"
    class="cantap"
  ></a-entity>
  <a-entity
    tap-assemble
    target="Windshield"
    id="windshield"
    mixin="hotspot-target"
    position="0.9 1.2 1.87"
    rotation="0 0 0"
    scale="0.5 0.5 0.5"
    class="cantap"
  ></a-entity>

  <a-entity
    tap-assemble
    target="Lamp"
    id="lamp"
    mixin="hotspot-target"
    position="-3.21 0.9 -2.34"
    rotation="0 0 0"
    scale="0.5 0.5 0.5"
    class="cantap"
  ></a-entity>
  <a-entity
    tap-assemble
    target="Front-Lamp"
    id="front-lamp"
    mixin="hotspot-target"
    position="-4.47 0.9 0.94"
    rotation="0 0 0"
    scale="0.5 0.5 0.5"
    class="cantap"
  ></a-entity>

  <a-entity
    tap-assemble
    target="Tire"
    id="hotspot4"
    mixin="hotspot-target"
    position="2.94 0.35 3.25"
    rotation="0 0 0"
    scale="0.5 0.5 0.5"
    class="cantap"
  ></a-entity>
  <a-entity
    tap-assemble
    target="Body"
    id="hotspot5"
    mixin="hotspot-target"
    position="-2.969 1.175 1.61"
    rotation="0 0 0"
    scale="0.5 0.5 0.5"
    class="cantap"
  ></a-entity>
  <a-entity
    tap-assemble
    target="Rims"
    id="hotspot6"
    mixin="hotspot-target"
    position="-4.93 0.35 0.31"
    rotation="0 0 0"
    scale="0.5 0.5 0.5"
    class="cantap"
  ></a-entity>

  <a-text
    position="0 2 0.95"
    value="0"
    bind="text.value: score;visible: score < 1100"
  ></a-text>
  <a-text
    position="0 2 0.95"
    value="Congratulations! You Got 1100 Points, Redeem Your Points for Rewards!"
    bind="visible: score === 1100"
  ></a-text>

  <a-entity
    id="car"
    gltf-model="#carModel"
    rotation="0 70 0"
    target="Front-Driver"
    shadow="receive: false"
  >
    <!-- Hotspots -->

    <a-entity id="hotspot-group">
      <a-sphere
        id="hs-wheels"
        position="-1.9 0.35 1"
        annotation="text: 19” Aluminum Wheels"
      ></a-sphere>
      <a-sphere
        id="hs-range"
        position="-2 1.175 0"
        annotation="text: 250+ mile range; labeldistance: 1.5;"
      ></a-sphere>
      <a-sphere
        id="hs-hub"
        position="-1 1.05 0"
        annotation="text: 17&#x22; Smart Hub"
      ></a-sphere>
      <a-sphere
        id="hs-seats"
        position="0.2 1.05 0"
        annotation="text: 100% Vegan Leather"
      ></a-sphere>
    </a-entity>
  </a-entity>
  <a-plane
    id="ground"
    rotation="-90 0 0"
    width="100"
    height="100"
    material="shader: shadow; opacity: 0.5;"
    shadow
  ></a-plane>
</a-scene>
